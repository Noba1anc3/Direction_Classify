# 文字方向四分类测试集制作
## 测试集特点
- 保证种类的多样性
- 保证种类内数据的多样性
- 保证不同种类样本的个数平衡

## 数据类别
### 票据
- 车票
- 机票
- 门票
- 收据
- 增值税发票
- 出租车发票

### 证件
- 名片
- 身份证
- 营业执照
- 医保+护照+驾驶证

### 文档
- 电子书
- 教科书
- 银行流水
- 评级报告
- 公司报表
- 募集说明书

### 其他
- 试卷
- 体检表


## 数据来源
### PDF转图片
- 电子书
- 教科书

### 拍照
- 门票

### 数据集
- 身份证
- 银行流水
- 营业执照
- 评级报告
- 公司报表
- 募集说明书

### 网络图片 （扫描+拍照+电子版）
- 车票
- 机票
- 门票
- 名片
- 试卷
- 收据
- 体检表
- 增值税发票
- 出租车发票
- 医保+护照+驾驶证

## 数据分布
共有18个类，每个类50张图片，总计900张图片

- 车票
  - 火车票：35张
  - 其他：15张
- 机票
  - 拍照：37张
  - 电子版：13张
- 门票
  - 中文：34张
  - 外文：16张
- 名片
  - 拍照：3张
  - 电子版：47张
- 试卷
  - 大中小学中外文试卷均有
- 收据
  - 拍照：16张
  - 扫描：15张
  - 电子版：19张
- 体检表
  - 拍照：37张
  - 电子版：13张
- 身份证：
  - 人像面：31张
  - 国徽面：19张
- 电子书
  - 来源：三本电子书
- 教科书
  - 来源：人教版高中数学
- 银行流水
- 评级报告
- 公司报表
- 营业执照
  - 拍照：17张
  - 扫描：33张
- 募集说明书
- 增值税发票
  - 拍照：15张
  - 扫描：16张
  - 电子版：19张
- 出租车发票
  - 拍照：46张
  - 扫描：1张
  - 电子版：4张
- 医保+护照+驾驶证
  - 护照：19张
  - 医保卡：20张
  - 驾驶证：11张

## 数据处理
- 有效内容提取：编辑图片去掉无关内容

## 数据增强
- 因为是测试数据，不进行诸如亮度修改，噪声添加等主要用于训练数据的增强方式
- 在测试集中只使用四角度扩充
- 对数据集中的900张图片随机进行一个方向的调整并添加随机角度的旋转 90*random(0,4) + random(-15, 15)
  - 方案一 ： 只使用旋转
  - 方案二 ： 在90度整数倍调整的基础之上，进行小角度微调
  - 方案一与方案二交替使用


# 测试集实验结果

## 1. 测试标准
测试数据为三通道彩色图像，其标注为方向类别和具体的旋转角度；模型输出结果为预测出的回归角度。  
对实验一，如若回归角度与标注所在方向类别轴之间的角度差在45°以内，则认定为预测正确。  
对实验二，如若回归角度与标注所在方向类别轴之间的角度差在30°以内，则认定为预测正确。  
如上所述，实验二的标准比实验一更高。  

## 2. 总体实验结果

| 实验           | 准确率 |
|:-------------:|:------:|
| 三通道原图 30° |  58.0% |
| 三通道原图 45° |  64.3% |


## 3. 大类测试结果

### 3.1 30° & 45°

#### 3.1.1 种类

| 种类            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 证件 30°        | 15.4%  |    36.4% |  25.4%  |    40.4%  |  30.0%  |
| 证件 45°        | 28.2%  |    50.9% |  30.5%  |    48.9%  |  40.0%  |

| 种类            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 票据 30°        | 19.7%  |    52.7% |  30.0%  |    41.1%  |  37.3%  |
| 票据 45°        | 27.3%  |    60.4% |  38.6%  |    47.9%  |  45.0%  |

| 种类            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 其他 30°        | 76.2%  |    65.4% |  74.2%  |    86.4%  |  75.0%  |
| 其他 45°        | 81.0%  |    69.2% |  83.9%  |    86.4%  |  80.0%  |

| 种类            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 文档 30°        | 87.3%  |    94.8% |  93.6%  |    90.5%  |  91.7%  |
| 文档 45°        | 95.8%  |    96.1% |  94.9%  |    91.9%  |  94.7%  |

#### 3.1.2 方向

| 方向准确率      | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:--------:|:--------:|:---------:|:-------:|
| 平均 30°        | 49.2%  |    63.5%  |  55.5%  |    62.5%  |  58.0%  |
| 平均 45°        | 57.9%  |    70.3%  |  60.9%  |    67.1%  |  64.3%  |

### 3.2 30°实验

#### 3.2.1 种类

| 种类            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 证件            | 15.4%  |    36.4% |  25.4%  |    40.4%  |  30.0%  |
| 票据            | 19.7%  |    52.7% |  30.0%  |    41.1%  |  37.3%  |
| 其他            | 76.2%  |    65.4% |  74.2%  |    86.4%  |  75.0%  |
| 文档            | 87.3%  |    94.8% |  93.6%  |    90.5%  |  91.7%  |

#### 3.2.2 方向

| 方向准确率      | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:---------------:|:------:|:--------:|:--------:|:---------:|:-------:|
| 平均            | 49.2%  |    63.5%  |  55.5%  |    62.5%  |  58.0%  |

### 3.3 45°实验

#### 3.3.1 种类

| 种类            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 证件            | 28.2%  |    50.9% |  30.5%  |    48.9%  |  40.0%  |
| 票据            | 27.3%  |    60.4% |  38.6%  |    47.9%  |  45.0%  |
| 其他            | 81.0%  |    69.2% |  83.9%  |    86.4%  |  80.0%  |
| 文档            | 95.8%  |    96.1% |  94.9%  |    91.9%  |  94.7%  |

#### 3.3.2 方向

| 方向准确率      | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:---------------:|:------:|:--------:|:--------:|:---------:|:-------:|
| 平均            | 57.9%  |    70.3%  |  60.9%  |    67.1%  |  64.3%  |

## 4. 小类测试结果

### 4.1 30°实验

#### 证件

| 证件            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 名片            | 11.1%  |     66.7% |  63.6%  |    40.0%  |  48.0%  |
| 身份证          | 11.1%  |     16.7% |   11.8% |    25.0%  |  16.0%  |
| 营业执照        | 27.3%  |     33.3% |   29.4% |    53.8%  |  36.0%  |
| 医保+护照+驾驶证 | 10.0%  |    26.3% |    7.1%  |    42.9%  |  20.0%  |
| 总计            | 15.4%  |    36.4% |  25.4%  |    40.4%  |  30.0%  |

#### 票据

| 票据            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 车票            |  0.0%  |      7.7% |   0.0%  |    14.3%  |   6.0%  |
| 机票            | 20.0%  |       60% |  37.5%  |    44.4%  |  38.0%  |
| 门票            | 14.3%  |     63.6% |  30.0%  |    60.0%  |  42.0%  |
| 收据            | 22.2%  |     83.3% |  35.7%  |    55.6%  |  54.0%  |
| 增值税发票      | 62.5%  |      76.2% |  42.9%  |    42.9%  |  60.0%  |
| 出租车发票      | 12.5%  |      16.7% |  33.3%  |    33.3%  |  24.0%  |
| 总计            | 19.7%  |     52.7% |  30.0%  |    41.1%  |  37.3%  |

#### 其他

| 其他            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 试卷            |  88.9% |     84.6% |  82.4%  |     90.9% |   86.0% |
| 体检表          |  66.7% |     46.2% |  64.3%  |     81.8% |   64.0% |
| 总计            |  76.2% |     65.4% |  74.2%  |     86.4% |   75.0% |

#### 文档

| 文档            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 电子书          |  72.7% |     83.3% |  68.8%  |     72.7% |   74.0% |
| 教科书          |  71.4% |     84.6% |  100.0% |     94.1% |   90.0% |
| 银行流水        | 100.0% |    100.0% |  100.0% |    100.0% |  100.0% |
| 评级报告        |  89.5% |    100.0% |  100.0% |     84.6% |   92.0% |
| 公司报表        |  92.3% |    100.0% |  100.0% |     91.7% |   96.0% |
| 募集说明书      |  90.9% |    100.0% |  100.0% |    100.0% |   98.0% |
| 总计           |  87.3% |     94.8% |   93.6% |     90.5% |   91.7% |

### 4.2 45°实验

#### 证件

| 证件            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 名片            | 11.1%  |     80.0% |  63.6%  |    46.7%  |  54.0%  |
| 身份证          | 22.2%  |     33.3% |   17.6% |    50.0%  |  30.0%  |
| 营业执照        | 45.5%  |     55.6% |   35.3% |    53.8%  |  46.0%  |
| 医保+护照+驾驶证 | 30.0%  |    36.8% |   14.3%  |    42.9%  |  30.0%  |
| 总计            | 28.2%  |    50.9% |  30.5%  |    48.9%  |  40.0%  |

#### 票据

| 票据            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 车票            | 16.7%  |      7.7% |  18.2%  |    28.6%  |  18.0%  |
| 机票            | 20.0%  |       70% |  37.5%  |    44.4%  |  40.0%  |
| 门票            | 28.6%  |     81.8% |  30.0%  |    60.0%  |  50.0%  |
| 收据            | 33.3%  |     83.3% |  50.0%  |    66.7%  |  62.0%  |
| 增值税发票      | 62.5%  |      76.2% |  42.9%  |    50.0%  |  62.0%  |
| 出租车发票      | 12.5%  |      38.9% |  50.0%  |    41.6%  |  38.0%  |
| 总计            | 27.3%  |    60.4% |  38.6%  |    47.9%  |  45.0%  |

#### 其他

| 其他            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 试卷            | 100.0% |     84.6% |  88.2%  |    90.9%  |  90.0%  |
| 体检表          | 66.7%  |     53.8% |  78.6%  |    81.8%  |  70.0%  |
| 总计            | 81.0%  |     69.2% |  83.9%  |    86.4%  |  80.0%  |

#### 文档

| 文档            | Up acc | Down acc | Left acc | Right acc | Avg acc |
|:--------------:|:------:|:---------:|:-------:|:---------:|:-------:|
| 电子书          | 100.0% |     83.3% |  75.0%  |    72.7%  |   82.0% |
| 教科书          | 100.0% |     92.3% |  100.0% |    94.1%  |   96.0% |
| 银行流水        | 100.0% |    100.0% |  100.0% |    100.0% |  100.0% |
| 评级报告        |  89.5% |    100.0% |  100.0% |    92.3%  |   94.0% |
| 公司报表        | 100.0% |    100.0% | 100.0%  |    91.7%  |   98.0% |
| 募集说明书      |  90.9% |    100.0% |  100.0% |   100.0%  |   98.0% |
| 总计           | 95.8%  |     96.1% |  94.9%  |    91.9%  |  94.7%  |

